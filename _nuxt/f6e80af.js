(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1192:function(e,t,r){var content=r(1197);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(110).default)("8538dede",content,!0,{sourceMap:!1})},1193:function(e,t,r){"use strict";r.r(t);var o=r(1194),n=r.n(o),c={props:["width","product","img"],name:"Hello",data:function(){return{normal:n.a}},computed:{},created:function(){},mounted:function(){},methods:{toProduct:function(e){this.$router.push({path:"/product",query:{id:e}})}},components:{}},d=(r(1196),r(59)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"eshop-product",style:{width:e.width},on:{click:function(t){return e.$emit("click")}}},[r("div",{staticClass:"eshop-product-img"},[r("img",{attrs:{src:e.img?e.img:e.normal}})]),e._v(" "),r("div",{staticClass:"eshop-product-name"},[e._v(e._s(e.product.name))]),e._v(" "),r("div",{staticClass:"eshop-product-mask"},[r("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.toProduct(e.product.id)}}},[e._v("查看详情")])],1)])}),[],!1,null,"12ca16e8",null);t.default=component.exports},1194:function(e,t,r){e.exports=r.p+"img/img23.ab1fbd2.png"},1196:function(e,t,r){"use strict";var o=r(1192);r.n(o).a},1197:function(e,t,r){(t=r(109)(!1)).push([e.i,".eshop-breadcrumb[data-v-12ca16e8]{margin:45.33333px 0 20px;border-bottom:1px solid #ddd}.eshop-flexCenter[data-v-12ca16e8]{display:flex;justify-content:center;align-items:center}.eshop-danger[data-v-12ca16e8]{color:red}.eshop-cart-trow[data-v-12ca16e8]:hover{background-color:#e6d6c6}.eshop-cart-tfooter>.eshop-cart-trow[data-v-12ca16e8]:hover,.eshop-cart-thead>.eshop-cart-trow[data-v-12ca16e8]:hover{background-color:#fff}.eshop-product[data-v-12ca16e8]{height:100%;position:relative;cursor:pointer}.eshop-product-img[data-v-12ca16e8]{width:100%;height:75%}.eshop-product-name[data-v-12ca16e8]{font-size:14px;font-weight:600;height:25%}.eshop-product-name[data-v-12ca16e8],.eshop-product:hover .eshop-product-mask[data-v-12ca16e8]{display:flex;align-items:center;justify-content:center}.eshop-product-mask[data-v-12ca16e8]{position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.2);display:none}",""]),e.exports=t},1212:function(e,t,r){var content=r(1251);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(110).default)("2bfbf820",content,!0,{sourceMap:!1})},1249:function(e,t,r){e.exports=r.p+"img/avatar.298e4e9.jpg"},1250:function(e,t,r){"use strict";var o=r(1212);r.n(o).a},1251:function(e,t,r){(t=r(109)(!1)).push([e.i,'.eshop-breadcrumb[data-v-49be307c]{margin:45.33333px 0 20px;border-bottom:1px solid #ddd}.eshop-flexCenter[data-v-49be307c]{display:flex;justify-content:center;align-items:center}.eshop-danger[data-v-49be307c]{color:red}.eshop-cart-trow[data-v-49be307c]:hover{background-color:#e6d6c6}.eshop-cart-tfooter>.eshop-cart-trow[data-v-49be307c]:hover,.eshop-cart-thead>.eshop-cart-trow[data-v-49be307c]:hover{background-color:#fff}.eshop-me[data-v-49be307c]{background-color:#f2f2f2;margin-top:68px;min-height:calc(100vh - 68px)}.eshop-me-content[data-v-49be307c]{background-color:#fff;overflow:hidden;max-width:1440px;margin:0 auto;padding:0 10px}.eshop-me-myinfo[data-v-49be307c]{margin:20px 0}.eshop-me-my[data-v-49be307c]{position:relative}.eshop-me-edit[data-v-49be307c]{position:absolute;top:10px;right:10px}.eshop-me-recommend[data-v-49be307c]{margin:20px 0}.eshop-me-products[data-v-49be307c]{margin:20px 0;display:grid;width:100%;grid-template-columns:repeat(4,calc(25% - 15px));grid-gap:20px 20px}.eshop-head[data-v-49be307c]{padding:20px 0}.eshop-self[data-v-49be307c]{width:100%;overflow:hidden;min-height:100%}.eshop-selfList[data-v-49be307c]{float:left;margin-right:20px;background-color:#fff}.eshop-selfList ul[data-v-49be307c]{list-style-type:none;padding:0;margin:0}.eshop-selfList ul li[data-v-49be307c]{position:relative;cursor:pointer;height:60px;width:160px;line-height:60px;padding:0 16px;border-bottom:1px solid #ccc}.eshop-selfList ul li[data-v-49be307c]:hover{background-color:#e6d6c6}.eshop-selfList ul li[data-v-49be307c]:hover:after{content:"";position:absolute;width:0;height:0;border:5px solid transparent;border-left-color:#fff;right:16px;top:50%;transform:translateY(-50%)}.eshop-selfShow[data-v-49be307c]{padding:16px;overflow:hidden;background-color:#fff}.eshop-baseinfo[data-v-49be307c],.eshop-my[data-v-49be307c]{display:flex}.eshop-my[data-v-49be307c]{align-items:center;border-right:1px solid #ccc}.eshop-my[data-v-49be307c],.eshop-vip[data-v-49be307c]{flex-grow:1}.eshop-vip>a[data-v-49be307c]{display:inline-block;cursor:pointer;border-radius:14px;background-color:#f4ca3a;padding:0 10px;height:26px;width:85px;font-weight:500;text-align:center;line-height:26px}.eshop-vip>a:hover>span[data-v-49be307c]{position:relative;-webkit-animation:jump-data-v-49be307c 2s ease;animation:jump-data-v-49be307c 2s ease}@-webkit-keyframes jump-data-v-49be307c{0%{top:0}50%{font-size:1.05em;top:-20px}75%{font-size:.8em;top:5px}to{top:0}}@keyframes jump-data-v-49be307c{0%{top:0}50%{font-size:1.05em;top:-20px}75%{font-size:.8em;top:5px}to{top:0}}.eshop-avatar[data-v-49be307c]{border-radius:100%;border:4px solid #ccc;overflow:hidden;box-shadow:3px 2px 10px 0 rgba(79,5,1,.84)}.eshop-avatar>img[data-v-49be307c]{height:120px;width:120px}.eshop-infoList[data-v-49be307c]{flex-grow:2;padding:16px 16px 16px 32px}.eshop-infoList li[data-v-49be307c]{padding:4px}.eshop-info-label[data-v-49be307c]{font-weight:600}.eshop-info-content[data-v-49be307c]{font-weight:400}.eshop-mywallet[data-v-49be307c]{flex-grow:3;display:flex;align-items:center}.eshop-mywallet>div[data-v-49be307c]{text-align:center;cursor:pointer}.eshop-mywallet div[data-v-49be307c]{flex-grow:1}.eshop-mywallet>div[data-v-49be307c]:not(:last-child){border-right:1px solid #ccc}.eshop-options[data-v-49be307c]{display:flex;align-items:center;height:180px}.eshop-options>div[data-v-49be307c]{flex-grow:1;text-align:center;padding:16px;font-size:.8em;transition:all 1s ease}.eshop-options>div[data-v-49be307c]:hover{cursor:pointer;box-shadow:0 0 16px 0 rgba(0,0,0,.1)}.eshop-options div img[data-v-49be307c]{height:48px;width:48px;padding:16px;margin:0 auto}.eshop-options div div[data-v-49be307c]{margin:0 auto}',""]),e.exports=t},1271:function(e,t,r){"use strict";r.r(t);r(69),r(51);var o,n,c,d,h,l=r(19),f=r(1193),v=r(1249),m=r.n(v),x={name:"Hello",data:function(){return{inputAddress:"",addressVisible:!1,recommendList:[],imageUrl:"",normal:m.a}},computed:{address:function(){return this.$store.state.address.address},addressFetching:function(){return this.$store.state.address.addressFetching},userInfo:function(){return this.$store.state.user.userInfo?this.$store.state.user.userInfo:{}},orderTotal:function(){return this.$store.state.order.total},cart:function(){return this.$store.state.cart}},created:function(){this.$store.dispatch("user/fetchUserInfo",{id:this.userInfo.id}),this.$store.dispatch("order/fetchOrderData",{userId:this.userInfo.id,current:1,size:10}),this.$store.dispatch("order/fetchOrderTotal",{userId:this.userInfo.id}),this.refreshRec()},mounted:function(){},methods:{updateUser:(h=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.userInfo,r={id:t.id,accountname:t.accountname,password:t.password,username:t.username,phone:t.phone,mail:t.mail,avatar:this.imageUrl},e.next=5,this.$axios.post("/user/update",r);case 5:if(!(o=e.sent)||!o.data.data){e.next=11;break}this.$message.success("修改信息成功"),this.$store.dispatch("user/fetchUserInfo",{id:t.id}),e.next=13;break;case 11:throw 1;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}}),e,this,[[0,15,18,20]])}))),function(){return h.apply(this,arguments)}),getAvatar:function(e){return console.log("HOR",e),e&&e.slideshow?e.slideshow.avatar:""},refreshRec:(d=Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get("/recommend/getall");case 3:if(!(t=e.sent)||!t.data.data){e.next=8;break}this.recommendList=t.data.data,e.next=9;break;case 8:throw 1;case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),this.$message.error("获取首页信息失败");case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}}),e,this,[[0,11,15,17]])}))),function(){return d.apply(this,arguments)}),beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||this.$message.error("只能上传jpg,png格式！");var r=e.size/1024/1024<10;return r||this.$message.error("图片不能大于10M！"),t&&r},handleChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(this.imageUrl=e.file.response.data,this.updateUser(),this.$message.success("".concat(e.file.name,"上传成功"))):"error"===e.file.status&&this.$message.error("".concat(e.file.name,"上传失败."))},refreshAddress:(c=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$store.dispatch("address/fetchAddressData");case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)}),removeAddress:(n=Object(l.a)(regeneratorRuntime.mark((function e(address){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[address],e.next=4,this.$axios.post("/address/delete",t);case 4:if(!(r=e.sent)||!r.data.data){e.next=9;break}this.$message.success("删除成功"),e.next=10;break;case 9:throw 1;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),this.$message.error("删除失败");case 16:return e.prev=16,this.$store.dispatch("address/fetchAddressData",{userId:this.userInfo.id}),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[0,12,16,19]])}))),function(e){return n.apply(this,arguments)}),addAddress:(o=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.inputAddress){e.next=4;break}return this.$message.error("请输入地址"),e.abrupt("return");case 4:return t={address:this.inputAddress,userid:this.userInfo.id},e.next=7,this.$axios.post("/address/add",t);case 7:if(!(r=e.sent)||!r.data.data){e.next=13;break}this.$message.success("添加成功"),this.inputAddress="",e.next=14;break;case 13:throw 1;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),this.$message.error("新增失败");case 20:return e.prev=20,this.$store.dispatch("address/fetchAddressData",{userId:this.userInfo.id}),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[0,16,20,23]])}))),function(){return o.apply(this,arguments)}),toEditMe:function(){this.$router.push("/editMe")}},components:{Product:f.default}},w=(r(1250),r(59)),component=Object(w.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"eshop-me"},[r("div",{staticClass:"eshop-me-content"},[r("div",{staticClass:"eshop-myinfo eshop-me-myinfo"},[r("div",{staticClass:"eshop-baseinfo"},[r("div",{staticClass:"eshop-my eshop-me-my"},[r("a",{staticClass:"eshop-me-edit"},[r("a-icon",{attrs:{type:"edit"},on:{click:e.toEditMe}})],1),e._v(" "),r("div",{staticClass:"eshop-avatar"},[r("img",{attrs:{src:e.userInfo.avatar?e.userInfo.avatar:e.normal}})]),e._v(" "),r("ul",{staticClass:"eshop-infoList"},[r("li",[r("span",{staticClass:"eshop-info-label"},[e._v("用户名：")]),e._v(" "),r("span",{staticClass:"eshop-info-content"},[e._v(e._s(e.userInfo.username?e.userInfo.username:"--"))])]),e._v(" "),r("li",[r("span",{staticClass:"eshop-info-label"},[e._v("姓名：")]),e._v(" "),r("span",{staticClass:"eshop-info-content"},[e._v(e._s(e.userInfo.accountname?e.userInfo.accountname:"--"))])]),e._v(" "),r("li",[r("span",{staticClass:"eshop-info-label"},[e._v("手机：")]),e._v(" "),r("span",{staticClass:"eshop-info-content"},[e._v(e._s(e.userInfo.phone?e.userInfo.phone:"--"))])]),e._v(" "),r("li",[r("span",{staticClass:"eshop-info-label"},[e._v("邮件：")]),e._v(" "),r("span",{staticClass:"eshop-info-content"},[e._v(e._s(e.userInfo.mail?e.userInfo.mail:"--"))])]),e._v(" "),r("li",{on:{click:function(t){e.addressVisible=!0,e.$store.dispatch("address/fetchAddressData",{userId:e.userInfo.id})}}},[r("nuxt-link",{attrs:{to:""}},[e._v("\n                                      查看地址\n                                  ")])],1),e._v(" "),r("li",[r("a-upload",{attrs:{name:"file",multiple:!1,action:"/api/api/upload","before-upload":e.beforeUpload,"show-upload-list":!1},on:{change:e.handleChange}},[r("a-button",[r("a-icon",{attrs:{type:"upload"}}),e._v(" 上传头像 ")],1)],1)],1)]),e._v(" "),e._m(0)]),e._v(" "),r("div",{staticClass:"eshop-mywallet"},[r("div",{on:{click:function(t){return e.$router.push("/orderList")}}},[r("div",[e._v("订单")]),e._v(" "),r("div",[e._v(e._s(e.orderTotal))])]),e._v(" "),r("div",{on:{click:function(t){return e.$router.push("/cart")}}},[r("div",[e._v("购物车")]),e._v(" "),r("div",[e._v(e._s(e.cart.total))])])])]),e._v(" "),r("div",{staticClass:"eshop-me-recommend"},[r("h3",[e._v("商品推荐")]),e._v(" "),r("div",{staticClass:"eshop-me-products"},e._l(e.recommendList,(function(t){return r("Product",{key:t.id,attrs:{img:e.getAvatar(t.product),product:t.product}})})),1)])])]),e._v(" "),r("a-modal",{attrs:{title:"地址",visible:e.addressVisible,footer:null},on:{cancel:function(t){e.addressVisible=!1}}},[r("a-spin",{attrs:{spinning:e.addressFetching}},[r("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"}),e._v(" "),r("div",{style:{display:"flex",justifyContent:"center"}},[r("div",{style:{width:"70%"}},[e._l(e.address,(function(t,i){return r("div",{key:t.id},[r("span",{staticClass:"eshop-info-label"},[e._v("地址"+e._s(i)+":")]),e._v(" "),r("span",{staticClass:"eshop-info-content"},[e._v(e._s(t.address))]),e._v(" "),r("a-icon",{style:{cursor:"pointer",float:"right"},attrs:{type:"minus"},on:{click:function(r){return e.removeAddress(t)}}})],1)})),e._v(" "),r("div",[r("a-input",{style:{width:"70%"},model:{value:e.inputAddress,callback:function(t){e.inputAddress=t},expression:"inputAddress"}}),e._v(" "),r("a-icon",{style:{cursor:"pointer",float:"right"},attrs:{type:"plus"},on:{click:e.addAddress}})],1)],2)])],1)],1)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"eshop-vip"},[t("a",[t("span",[this._v("\n                                  开通会员\n                              ")])])])}],!1,null,"49be307c",null);t.default=component.exports;installComponents(component,{Product:r(1193).default})}}]);